using System;
using System.Data.SqlClient;
using System.Windows.Forms;

namespace VeritabaniEkleme
{
    public partial class Form1 : Form
    {
        private const string connectionString = "Data Source=your_server;Initial Catalog=your_database;User ID=your_username;Password=your_password;";

        public Form1()
        {
            InitializeComponent();
        }

        private void btnEkle_Click(object sender, EventArgs e)
        {
            string ad = txtAd.Text;
            string soyad = txtSoyad.Text;
            string telefon = txtTelefon.Text;

            if (!string.IsNullOrEmpty(ad) && !string.IsNullOrEmpty(soyad) && !string.IsNullOrEmpty(telefon))
            {
                using (SqlConnection connection = new SqlConnection(connectionString))
                {
                    connection.Open();

                    // Parametreli ekleme sorgusu
                    string insertQuery = "INSERT INTO Kisiler (Ad, Soyad, Telefon) VALUES (@Ad, @Soyad, @Telefon)";

                    using (SqlCommand cmd = new SqlCommand(insertQuery, connection))
                    {
                        // Parametreleri ekleyin
                        cmd.Parameters.AddWithValue("@Ad", ad);
                        cmd.Parameters.AddWithValue("@Soyad", soyad);
                        cmd.Parameters.AddWithValue("@Telefon", telefon);

                        // Sorguyu çalıştırın
                        int affectedRows = cmd.ExecuteNonQuery();

                        if (affectedRows > 0)
                        {
                            MessageBox.Show("Kişi başarıyla eklendi.");
                        }
                        else
                        {
                            MessageBox.Show("Kişi eklenirken bir hata oluştu.");
                        }
                    }
                }
            }
            else
            {
                MessageBox.Show("Lütfen tüm alanları doldurun.");
            }
        }
    }
}
